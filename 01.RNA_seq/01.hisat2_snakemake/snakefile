"""
Author: Hua Zou
Aim: A workflow to process paired-end stranded RNA-seq sequence by Snakemake.
Date: July 5 2020
Email: zou_hua@grmh-gdl.cn
Run: snakemake -s Snakefile
"""

import os
import sys
import shutil
import pandas as pd

configfile: "config.yaml"

samples = pd.read_csv(config["samples"], sep="\t", index_col=["SampleID"])

rule all:
    input:
        expand("{fastqc}/{{sample}}_{read}_fastqc.zip",
                        fastqc=config["result"]["fastqc"],
                        read=["1", "2"]),
        os.path.join(config["result"]["fastqc"], 
                        "fastqc_multiqc_report.html")

#include: "rules/00.buildindex.snk"
include: "rules/01.fastqc.snk"
include: "rules/02.trim.snk"
include: "rules/03.alignment.snk"
include: "rules/04.genecount.snk"
include: "rules/05.finaltable.snk"
include: "rules/06.multiqc.snk" 
